(function(e,t,n,r,i,s,o,u,a,f,l,c){function y(e){if(c.apply(e)==="[object Array]"){if(typeof e[0]=="string"&&typeof y[e[0]]=="function")return new y[e[0]](e.slice(1,e.length));if(e.length===4)return new y.RGB(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}else{if(c.apply(e)==="[object Number]"){var t=o(e/65536),n=o((e-t*65536)/256),s=e-t*65536-n*256;return new y.RGB(t/255,n/255,s/255)}if(typeof e=="string"){var u=e.toLowerCase();p[u]&&(e="#"+p[u]),u==="transparent"&&(e="rgba(0,0,0,0)");var a=e.match(g);if(a){var f=a[1].toUpperCase(),l=d(a[8])?a[8]:r(a[8]),h=f[0]==="H",v=a[3]?100:h?360:255,m=a[5]||h?100:255,b=a[7]||h?100:255;if(d(y[f]))throw new Error("one.color."+f+" is not installed.");return new y[f](r(a[2])/v,r(a[4])/m,r(a[6])/b,l)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var w=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(w)return new y.RGB(i(w[1],16)/255,i(w[2],16)/255,i(w[3],16)/255);var E=e.match(/^([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(E)return new y.RGB(i(E[4],16)/255,i(E[3],16)/255,i(E[2],16)/255,i(E[1],16)/255)}else if(typeof e=="object"&&e.isColor)return e}return!1}function b(t,r,i){function a(t,n){var r={};r[n.toLowerCase()]=new e("return this.rgb()."+n.toLowerCase()+"();"),y[n].propertyNames.forEach(function(t,i){r[t]=r[t==="black"?"k":t[0]]=new e("value","isDelta","return this."+n.toLowerCase()+"()."+t+"(value, isDelta);")});for(var i in r)r.hasOwnProperty(i)&&y[t].prototype[i]===undefined&&(y[t].prototype[i]=r[i])}y[t]=new e(r.join(","),"if (Object.prototype.toString.apply("+r[0]+") === '[object Array]') {"+r.map(function(e,t){return e+"="+r[0]+"["+t+"];"}).reverse().join("")+"}"+"if ("+r.filter(function(e){return e!=="alpha"}).map(function(e){return"isNaN("+e+")"}).join("||")+"){"+'throw new Error("['+t+']: Invalid color: ("+'+r.join('+","+')+'+")");}'+r.map(function(e){return e==="hue"?"this._hue=hue<0?hue-Math.floor(hue):hue%1":e==="alpha"?"this._alpha=(isNaN(alpha)||alpha>1)?1:(alpha<0?0:alpha);":"this._"+e+"="+e+"<0?0:("+e+">1?1:"+e+")"}).join(";")+";"),y[t].propertyNames=r;var s=y[t].prototype;["valueOf","hex","hexa","css","cssa","threejs","toNumber","kml"].forEach(function(n){s[n]=s[n]||(t==="RGB"?s.hex:new e("return this.rgb()."+n+"();"))}),s.isColor=!0,s.equals=function(e,i){d(i)&&(i=1e-10),e=e[t.toLowerCase()]();for(var s=0;s<r.length;s+=1)if(n.abs(this["_"+r[s]]-e["_"+r[s]])>i)return!1;return!0},s.toJSON=new e("return ['"+t+"', "+r.map(function(e){return"this._"+e},this).join(", ")+"];");for(var o in i)if(i.hasOwnProperty(o)){var u=o.match(/^from(.*)$/);u?y[u[1].toUpperCase()].prototype[t.toLowerCase()]=i[o]:s[o]=i[o]}s[t.toLowerCase()]=function(){return this},s.toString=new e('return "[one.color.'+t+':"+'+r.map(function(e,t){return'" '+r[t]+'="+this._'+e}).join("+")+'+"]";'),r.forEach(function(t,n){s[t]=s[t==="black"?"k":t[0]]=new e("value","isDelta","if (typeof value === 'undefined') {return this._"+t+";"+"}"+"if (isDelta) {"+"return new this.constructor("+r.map(function(e,n){return"this._"+e+(t===e?"+value":"")}).join(", ")+");"+"}"+"return new this.constructor("+r.map(function(e,n){return t===e?"value":"this._"+e}).join(", ")+");")}),h.forEach(function(e){a(t,e),a(e,t)}),h.push(t)}function w(){var e=this.rgb(),t=e._red*.3+e._green*.59+e._blue*.11;return new y.RGB(t,t,t,this._alpha)}var h=[],p={},d=function(e){return typeof e=="undefined"},v=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,m=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,g=new RegExp("^(rgb|hsl|hsv)a?\\("+v.source+","+v.source+","+v.source+"(?:,"+m.source+")?"+"\\)$","i");y.installMethod=function(e,t){h.forEach(function(n){y[n].prototype[e]=t})},b("RGB",["red","green","blue","alpha"],{hex:function(){var e=(u(255*this._red)*65536+u(255*this._green)*256+u(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=u(this._alpha*255).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+u(255*this._red)+","+u(255*this._green)+","+u(255*this._blue)+")"},cssa:function(){return"rgba("+u(255*this._red)+","+u(255*this._green)+","+u(255*this._blue)+","+this._alpha+")"},threejs:function(){return u(255*this._red)*65536+u(255*this._green)*256+u(255*this._blue)},toNumber:function(){return u(255*this._red)*65536+u(255*this._green)*256+u(255*this._blue)},kml:function(){var e=(u(255*this._alpha)*16777216+u(255*this._blue)*65536+u(255*this._green)*256+u(255*this._red)).toString(16);return"0000000".substr(0,8-e.length)+e}}),typeof module!="undefined"?module.exports=y:typeof define=="function"&&!d(define.amd)?define([],function(){return y}):(one=window.one||{},one.color=y),typeof jQuery!="undefined"&&d(jQuery.color)&&(jQuery.color=y),p={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},b("XYZ",["x","y","z","alpha"],{fromRgb:function(){var e=function(e){return e>.04045?f((e+.055)/1.055,2.4):e/12.92},t=e(this._red),n=e(this._green),r=e(this._blue);return new y.XYZ(t*.4124564+n*.3575761+r*.1804375,t*.2126729+n*.7151522+r*.072175,t*.0193339+n*.119192+r*.9503041,this._alpha)},rgb:function(){var e=this._x,t=this._y,n=this._z,r=function(e){return e>.0031308?1.055*f(e,1/2.4)-.055:12.92*e};return new y.RGB(r(e*3.2404542+t*-1.5371385+n*-0.4985314),r(e*-0.969266+t*1.8760108+n*.041556),r(e*.0556434+t*-0.2040259+n*1.0572252),this._alpha)},lab:function(){var e=function(e){return e>.008856?f(e,1/3):7.787037*e+4/29},t=e(this._x/95.047),n=e(this._y/100),r=e(this._z/108.883);return new y.LAB(116*n-16,500*(t-n),200*(n-r),this._alpha)}}),b("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var e=function(e){var t=f(e,3);return t>.008856?t:(e-16/116)/7.87},t=(this._l+16)/116,n=this._a/500+t,r=t-this._b/200;return new y.XYZ(e(n)*95.047,e(t)*100,e(r)*108.883,this._alpha)}}),b("HSV",["hue","saturation","value","alpha"],{rgb:function(){var e=this._hue,t=this._saturation,n=this._value,r=l(5,o(e*6)),i=e*6-r,s=n*(1-t),u=n*(1-i*t),a=n*(1-(1-i)*t),f,c,h;switch(r){case 0:f=n,c=a,h=s;break;case 1:f=u,c=n,h=s;break;case 2:f=s,c=n,h=a;break;case 3:f=s,c=u,h=n;break;case 4:f=a,c=s,h=n;break;case 5:f=n,c=s,h=u}return new y.RGB(f,c,h,this._alpha)},hsl:function(){var e=(2-this._saturation)*this._value,t=this._saturation*this._value,n=e<=1?e:2-e,r;return n<1e-9?r=0:r=t/n,new y.HSL(this._hue,r,e/2,this._alpha)},fromRgb:function(){var e=this._red,t=this._green,r=this._blue,i=n.max(e,t,r),s=l(e,t,r),o=i-s,u,a=i===0?0:o/i,f=i;if(o===0)u=0;else switch(i){case e:u=(t-r)/o/6+(t<r?1:0);break;case t:u=(r-e)/o/6+1/3;break;case r:u=(e-t)/o/6+2/3}return new y.HSV(u,a,f,this._alpha)}}),b("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var e=this._lightness*2,t=this._saturation*(e<=1?e:2-e),n;return e+t<1e-9?n=0:n=2*t/(e+t),new y.HSV(this._hue,n,(e+t)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}}),b("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new y.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var e=this._red,t=this._green,n=this._blue,r=1-e,i=1-t,s=1-n,o=1;return e||t||n?(o=l(r,l(i,s)),r=(r-o)/(1-o),i=(i-o)/(1-o),s=(s-o)/(1-o)):o=1,new y.CMYK(r,i,s,o,this._alpha)}}),y.installMethod("clearer",function(e){return this.alpha(s(e)?-0.1:-e,!0)}),y.installMethod("darken",function(e){return this.lightness(s(e)?-0.1:-e,!0)}),y.installMethod("desaturate",function(e){return this.saturation(s(e)?-0.1:-e,!0)}),y.installMethod("greyscale",w),y.installMethod("grayscale",w),y.installMethod("lighten",function(e){return this.lightness(s(e)?.1:e,!0)}),y.installMethod("mix",function(e,t){e=y(e).rgb(),t=1-(s(t)?.5:t);var n=t*2-1,r=this._alpha-e._alpha,i=((n*r===-1?n:(n+r)/(1+n*r))+1)/2,o=1-i,u=this.rgb();return new y.RGB(u._red*i+e._red*o,u._green*i+e._green*o,u._blue*i+e._blue*o,u._alpha*t+e._alpha*(1-t))}),y.installMethod("negate",function(){var e=this.rgb();return new y.RGB(1-e._red,1-e._green,1-e._blue,this._alpha)}),y.installMethod("opaquer",function(e){return this.alpha(s(e)?.1:e,!0)}),y.installMethod("rotate",function(e){return this.hue((e||0)/360,!0)}),y.installMethod("saturate",function(e){return this.saturation(s(e)?.1:e,!0)}),y.installMethod("toAlpha",function(e){var t=this.rgb(),n=y(e).rgb(),r=1e-10,i=new y.RGB(0,0,0,t._alpha),s=["_red","_green","_blue"];return s.forEach(function(e){t[e]<r?i[e]=t[e]:t[e]>n[e]?i[e]=(t[e]-n[e])/(1-n[e]):t[e]>n[e]?i[e]=(n[e]-t[e])/n[e]:i[e]=0}),i._red>i._green?i._red>i._blue?t._alpha=i._red:t._alpha=i._blue:i._green>i._blue?t._alpha=i._green:t._alpha=i._blue,t._alpha<r?t:(s.forEach(function(e){t[e]=(t[e]-n[e])/t._alpha+n[e]}),t._alpha*=i._alpha,t)})})(Function,Object,Math,parseFloat,parseInt,isNaN,Math.floor,Math.round,Object.prototype,Math.pow,Math.min,Object.prototype.toString)
